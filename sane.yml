mode: docker
containers:
  pause:
    deamon: true
    ipc: shareable
    ports:
      - "9092:9092"
      - "2181:2181"
    image: gcr.io/google_containers/pause-amd64:3.0
    start: 1
  
  zookeeper:
    deamon: true
    net: container:pause
    ipc: container:pause
    pid: container:pause
    environment:
      - ZOOKEEPER_CLIENT_PORT: 2181
    image: confluentinc/cp-zookeeper:latest
    start: 2

  kafka:
    deamon: true
    net: container:pause
    ipc: container:pause
    pid: container:pause
    environment:
      - KAFKA_ZOOKEEPER_CONNECT: localhost:2181
      - KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://localhost:9092
      - KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1
    image: confluentinc/cp-kafka:latest
    start: 3

